<div class="container">
	<header class="grid gp-16 pd-12">
		<nav class="flex bet gp-8">
			<div class="flex gp-4">
				<app-component-button [type]="'MINI'" [icon]="'navigate_before'" (click)="core.back()" />
				<h1>{{ data?.name }}</h1>
			</div>

			<div class="flex gp-16">
				@if (!laia) {
					<app-component-button [type]="'ICON'" [icon]="'done_all'" (click)="changeLaia()" [class.laia-animation]="animation" />
				}
				<app-component-button [type]="'MINI'" [icon]="'more_vert'" />
			</div>
		</nav>
		@if (laia) {
			<form (focusout)="changeLaia()" [@fadeInOut] class="w">
				<mat-form-field appearance="outline" class="w">
					<mat-label>Label</mat-label>
					<input type="text" matInput [formControl]="control" placeholder="Placeholder" [matAutocomplete]="auto" #input />
					<mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
						@for (option of filtered | async; track $index) {
							<mat-option [value]="option">
								{{ option }}
							</mat-option>
							@if (!$last) {
								<hr />
							}
						}
					</mat-autocomplete>
				</mat-form-field>
			</form>
		}
	</header>

	<main class="fle col gp-12 pd-12">
		@if (asd) {
			<div class="din bd" [class.laia-animation]="animation">
				<div>
					@for (a of data?.items; track $index) {
						<article class="grid">
							<!-- (click)="sell.redirect()" -->
							<button type="button" class="btn grid gp-8" style="grid-template-columns: max-content 1fr">
								<app-component-img [src]="a.image" [width]="'100px'" [height]="'100px'" />

								<div class="grid tx-left h" [style]="a.cInfo" style="padding: 4px">
									@if (a.headerboard) {
										<p class="required tx-visible">{{ a.headerboard }}</p>
									}

									{{ a.title }}

									@if (a.subtitle) {
										<p class="tx-visible">{{ a.subtitle }}</p>
									}
								</div>
							</button>

							<app-component-button
								[type]="'MINI'"
								[icon]="a.check ? 'check_circle' : 'radio_button_unchecked'"
								[color]="'var(--violet)'"
								class="grid-place h pd-12"
								(click)="check($index)"
							/>
						</article>
						@if (!$last) {
							<hr />
						}
					}
				</div>
				@if (change) {
					@if (id) {
						<div class="flex cen add" style="position: relative">
							<button type="button" class="flex gp-8 br-4" (click)="save()">
								{{ 'Adicionar ' + id + ' como el Comprador' }}
							</button>
						</div>
					}
				}
				<button type="button" class="expansion-footer bet">
					@for (item of data?.footerItems; track $index) {
						{{ item.value }} {{ item.text }}
					}
					<!-- ! COLOCAR ICONO CORRECTO -->
					<app-component-button [type]="'ICON'" [icon]="'navigate_next'" />
				</button>
			</div>
		}
	</main>
	<footer class="w">
		<button type="button" class="fle cen w">
			<h2 class="tx-visible tx-center pd-8">{{ data?.footer?.value }} {{ data?.footer?.text }}</h2>
		</button>
	</footer>
</div>
