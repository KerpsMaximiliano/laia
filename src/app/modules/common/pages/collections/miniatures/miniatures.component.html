<header class="flex bet pd-12">
	<div class="flex gp-4">
		<app-component-button [type]="'MINI'" [icon]="'navigate_before'" (click)="core.back()" />
		<h1>Editar la vista</h1>
	</div>

	@defer {
		@if (change) {
			<button type="button" class="option" (click)="save()">Guardar</button>
		}
	}
</header>

<main class="grid gp-12 pd-12">
	<article class="bd br-4 gp-8">
		@for (option of options; track $index) {
			<button type="button" class="grid gp-8 tx-left w" (click)="selectionEdit = $index + 1">
				<p class="tx-visible" [class]="$index === 0 ? 'required' : $index === 1 ? 'title' : ''">
					@if (this.selectedItems[$index].length > 0) {
						@for (item of this.selectedItems[$index]; track $index) {
							{{ items[item] + '. ' }}
						}
					} @else {
						{{ option }}
					}
				</p>

				<app-component-button
					[type]="'ICON'"
					[icon]="'edit'"
					[color]="'var(--grey)'"
					[style]="selectionEdit === $index + 1 ? 'background-color: var(--grey-light)' : ''"
					class="pd-8"
					[class.br-50]="selectionEdit === $index + 1"
				/>
			</button>
		}
	</article>

	<section>
		@for (item of items; track $index) {
			<button type="button" class="flex bet gp-8 w pd-12" (click)="selection($index)">
				{{ item }}

				<app-component-button
					[type]="'ICON'"
					[icon]="check($index) ? 'check_circle' : 'radio_button_unchecked'"
					[color]="check($index) ? 'var(--violet)' : ''"
				/>
			</button>

			@if (!$last) {
				<hr />
			}
		}
	</section>
</main>
