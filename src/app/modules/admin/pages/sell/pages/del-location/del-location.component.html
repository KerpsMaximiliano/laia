<header class="flex gp-4 pd-12">
	<app-component-button [type]="'MINI'" [icon]="'navigate_before'" (click)="core.back()" />

	<h1>Lugar de entrega</h1>
</header>

<main class="grid gp-30 pd-12">
	<p class="message">Tienes la opción de cobrarle extra a tus compradores segun la distancia y el monto facturado</p>

	<form [formGroup]="form" class="grid gp-30">
		<!-- ! Fix this. -->
		<mat-form-field appearance="outline">
			<input type="text" matInput placeholder="Seleccione el centro de distribución" formControlName="starting" />

			<app-component-button matSuffix [type]="'ICON'" [icon]="'location_on'" class="pd-8" style="margin-right: 25px" />
		</mat-form-field>

		<mat-form-field appearance="outline">
			<mat-label>Extra</mat-label>

			<div class="flex gp-4">
				@if (form.get('amount')?.value) {
					<app-component-button [type]="'ICON'" [icon]="'attach_money'" [suffix]="true" />
				}

				<input matInput type="number" formControlName="amount" />

				@if (form.get('amount')?.value) {
					<app-component-button [type]="'ICON'" [icon]="'delete'" [suffix]="true" (click)="form.get('amount')?.setValue(null)" />
				}
			</div>
		</mat-form-field>

		<mat-form-field appearance="outline">
			<mat-label>Cada</mat-label>

			<div class="flex gp-4">
				<div class="flex">
					<input matInput type="number" formControlName="each" />

					@if (form.get('each')?.value) {
						<app-component-button [type]="'ICON'" [icon]="'delete'" [suffix]="true" (click)="form.get('each')?.setValue(null)" />
					}
				</div>

				<mat-select formControlName="tEach" style="min-width: 115px; width: 115px">
					<mat-option [value]="0">{{ form.get('each')?.value > 1 ? 'Metros' : 'Metro' }}</mat-option>
					<mat-option [value]="1">{{ form.get('each')?.value > 1 ? 'Kilómetros' : 'Kilómetro' }}</mat-option>
				</mat-select>
			</div>
		</mat-form-field>

		<mat-form-field appearance="outline">
			<mat-label>Hasta</mat-label>

			<div class="flex gp-4">
				<div class="flex">
					<input matInput type="number" formControlName="until" />

					@if (form.get('until')?.value) {
						<app-component-button [type]="'ICON'" [icon]="'delete'" [suffix]="true" (click)="form.get('until')?.setValue(null)" />
					}
				</div>

				<mat-select formControlName="tUntil" style="min-width: 115px; width: 115px">
					<mat-option [value]="0">{{ form.get('until')?.value > 1 ? 'Metros' : 'Metro' }}</mat-option>
					<mat-option [value]="1">{{ form.get('until')?.value > 1 ? 'Kilómetros' : 'Kilómetro' }}</mat-option>
				</mat-select>
			</div>
		</mat-form-field>

		<p class="message">El envio puede ser gratis a partir de un monto</p>

		<mat-form-field appearance="outline">
			<mat-label>Monto mínimo</mat-label>

			<div class="flex gp-4">
				@if (form.get('free')?.value) {
					<app-component-button [type]="'ICON'" [icon]="'attach_money'" [suffix]="true" />
				}

				<input matInput type="number" formControlName="free" placeholder="Ingrese el monto del envio gratis" />

				@if (form.get('free')?.value) {
					<app-component-button [type]="'ICON'" [icon]="'delete'" [suffix]="true" (click)="form.get('free')?.setValue(null)" />
				}
			</div>
		</mat-form-field>
	</form>
</main>
